- defaults:
    link:
      relink: true

- clean: ['~', '~/.config']

- link:
    ~/.bash_profile: bash/bash_profile
    ~/.bashrc: bash/bashrc
    ~/.colordiffrc: colordiff/colordiffrc
    ~/.config/nvim: nvim
    ~/.cvsignore: git/cvsignore
    ~/.editrc: system/editrc
    ~/.fzf: bin/fzf
    ~/.gemrc: ruby/gemrc
    ~/.gitconfig: git/gitconfig
    ~/.inputrc: system/inputrc
    ~/.irbrc: ruby/irbrc
    ~/.mpdconf: mpd/mpdconf
    ~/.my.cnf: mysql/my.cnf
    ~/.pryrc: pry/pryrc
    ~/.rspec: ruby/rspec
    ~/.tigrc: tig/tigrc
    ~/.tmux.conf: tmux/tmux.conf
    ~/.toprc: top/toprc
    ~/.tripboard: bin/tripboard
    ~/.vim: vim/vim
    ~/.vimrc: vim/vimrc
    ~/.zshenv: zsh/zshenv
    ~/.zshrc: zsh/zshrc

- shell:
  - [git submodule update --init --recursive, Installing submodules]

  # Install fzf, but skip config file updates as fzf is already configured (see
  # https://github.com/junegunn/fzf#using-git for more details).
  - [bin/fzf/install --no-update-rc, Installing fzf]

  # Install rbenv using the "Basic GitHub Checkout" approach (but automated
  # with rbenv-installer) rather than using a package manager. See
  # https://github.com/rbenv/rbenv#basic-github-checkout. and
  # https://github.com/rbenv/rbenv-installer for details.
  - [curl -fsSL https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer | bash, Installing rbenv]

  # Check rbenv's health to ensure installation was good.
  -
    command: curl -fsSL https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-doctor | bash
    description: Checking rbenv health
    stdin: true
    stdout: true
    stderr: true

  # Install a modern version of ruby to use by default.
  -
    command: rbenv install --skip-existing 3.1.2; rbenv global 3.1.2
    description: Install most recent stable version of Ruby (run `rbenv install list` for available versions)
    stdin: true
    stdout: true
    stderr: true

  # Install additional rbenv plugins (ruby-build installed by rbenv-installer).
  -
    command: echo $RBENV_ROOT
    description: echo $RBENV_ROOT
    stdin: true
    stdout: true
    stderr: true
  - [git clone https://github.com/tpope/rbenv-ctags.git $(rbenv root)/plugins/rbenv-ctags, Installing rbenv plugin: rbenv-ctags]
  - [git clone https://github.com/rbenv/rbenv-default-gems.git $(rbenv root)/plugins/rbenv-default-gems, Installing rbenv plugin: rbenv-default-gems]
